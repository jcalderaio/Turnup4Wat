<ion-view title="Attend">

    <!-- Attend Tab ------------------------------------------------------------>

    <ion-tabs class="tabs-energized tabs-icon-top">
        <ion-tab title="Attend" icon-on="ion-ios-game-controller-b" icon-off="ion-ios-game-controller-b-outline" on-select="setNavTitle('Attend')">
            <ion-content padding="true" has-tabs="true" scroll="true">
                <!--Attend Content -->
                <ion-refresher pulling-text="Pull to refresh" on-refresh="doRefresh()">
                </ion-refresher>
                <!-- If no parties to show -->
                <h3 ng-hide="parties.length" class="subdued">Where's the tournament at?</h3>
                <h5 ng-hide="parties.length" class="subdued">Maybe you should add one...</h5>
                <!--user's party-->
                <div class="list card" ng-repeat="party in parties">
                    <div class="item item-avatar">
                        <img src="https://colline.co/wp-content/uploads/2015/03/good-video-game-room-setup-ideas-ultimate-video-game-room-updated-the-game-room-9.jpg">
                        <h2>{{party.title}}</h2>
                        <p>{{party.date.toLocaleDateString()}} at {{calculatePartyTimeAsString(party.date)}}</p>    <!--toLocaleDateString() displays in USA as Month DD, YYYY, but the date object contains the exact time down to millisecond accuracy-->
                    </div>

                    <div class="item item-body">
                        <img class="full-image" src="{{party.image}}">  <!--currently loading this picture as a URL to the internet, need to change to loading from Parse database-->
                        <p>
                            {{party.description}}
                        </p>
                        <p>
                            <!-- <a href="#" class="subdued">{{party.friendsCount}} friends going</a> -->
                            <a href="#" class="subdued">{{party.attendanceCount}}/{{party.maxAttendance}} spots taken</a>
                        </p>
                    </div>

                    <div class="item tabs tabs-secondary tabs-icon-left">
                        <a class="tab-item" href="#">
                            <i class="icon ion-checkmark" ng-click="sendPartyRequest(user, party)"></i>
                            Attend
                        </a>
                        <a class="tab-item" href="#">
                            <i class="icon ion-information-circled"></i>
                            More info
                        </a>
                        <a class="tab-item" href="#">
                            <i class="icon ion-close"></i>
                            Hide
                        </a>
                    </div>
                </div>
                <!--end user's party-->
                <button class="button button-block button-positive">scrolling filler has to be longer than one button</button>
            </ion-content>
        </ion-tab>






        <!-- Host Tab ------------------------------------------------------------>
        <ion-tab title="Host" icon-on="ion-ios-home" icon-off="ion-ios-home-outline" on-select="setNavTitle('Host')">
            <ion-content padding="true">
                <!--Host Content -->
                <ion-refresher pulling-text="Pull to refresh" on-refresh="doRefresh()">
                </ion-refresher>
                <!-- If no parties to show -->
                <h3 ng-hide="parties.length" class="subdued">You're not hosting any tournaments</h3>
                <h5 ng-hide="parties.length" class="subdued">Maybe you should add one...</h5>

                <div class="list card" ng-repeat="party in parties">
                    <div class="item item-avatar">
                        <img src="https://colline.co/wp-content/uploads/2015/03/good-video-game-room-setup-ideas-ultimate-video-game-room-updated-the-game-room-9.jpg">
                        <h2>{{party.title}}</h2>
                        <p>{{party.date.toLocaleDateString()}} at {{calculatePartyTimeAsString(party.date)}}</p>
                    </div>

                    <div class="item item-body">
                        <img class="full-image" src="{{party.image}}">
                        <p>
                            {{party.description}}
                        </p>
                        <p>
                            <a href="#" class="subdued">{{party.attendanceCount}}/{{party.maxAttendance}} spots taken</a>
                        </p>
                    </div>

                    <div class="item tabs tabs-secondary tabs-icon-left">
                        <a class="tab-item" href="#">
                            <i class="icon ion-person-stalker"></i>
                            Attendees
                        </a>
                        <a class="tab-item" href="#">
                            <i class="icon ion-information-circled"></i>
                            More info
                        </a>
                        <a class="tab-item" href="#" ui-sref="app.partyEdit">
                            <ion-nav-view name="partyEdit"></ion-nav-view>
                            <i class="icon ion-edit"></i>
                            Edit
                        </a>
                    </div>
                </div>
                <button class="button button-block button-positive" ui-sref="app.newParty">New tournament</button>
                <button class="button button-block button-positive" ng-hide="!parties.length">I'm a placeholder because John hasn't fixed the scrolling</button>
            </ion-content>

        </ion-tab>
    </ion-tabs>









</ion-view>

